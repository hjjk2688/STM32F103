

# STM32F103 μ£Όλ³€μ¥μΉλ³„ λ™μ‘ μ›λ¦¬ λ° μ‹¤μµ
**A Repository for Hands-on Practice with STM32F103 Peripherals, Culminating in a Bluetooth RC Car Project**

![C](https://img.shields.io/badge/Language-C-blue.svg)
![STM32CubeIDE](https://img.shields.io/badge/IDE-STM32CubeIDE-orange.svg)
![STM32F103](https://img.shields.io/badge/MCU-STM32F103-blueviolet.svg)



---

## π“– κ°μ” (Overview)

μ΄ λ ν¬μ§€ν† λ¦¬λ” STM32F103 MCUμ ν•µμ‹¬ μ£Όλ³€μ¥μΉλ“¤μ„ **HAL(Hardware Abstraction Layer) λΌμ΄λΈλ¬λ¦¬**λ¥Ό κΈ°λ°μΌλ΅ ν•™μµν•κ³ , κ° κΈ°λ¥μ λ™μ‘ μ›λ¦¬λ¥Ό κΉμ΄ μκ² μ΄ν•΄ν•κΈ° μ„ν• μ‹¤μµ μ½”λ“ λ¨μμ…λ‹λ‹¤. κΈ°λ³Έμ μΈ μ£Όλ³€μ¥μΉ μ μ–΄ μμ λ¶€ν„°, μ΄λ¥Ό μ‘μ©ν• μµμΆ… ν”„λ΅μ νΈ **λΈ”λ£¨ν¬μ¤ RCμΉ΄**κΉμ§€ ν¬ν•¨ν•κ³  μμµλ‹λ‹¤.

---

## π† μµμΆ… ν”„λ΅μ νΈ: λΈ”λ£¨ν¬μ¤ RCμΉ΄ (Final Project: Bluetooth RC Car)

μ΄ λ ν¬μ§€ν† λ¦¬μ λ¨λ“  κΈ°λ³Έ μμ λ“¤μ„ μΆ…ν•©ν•μ—¬ λ§λ“  μµμΆ… μ• ν”λ¦¬μΌ€μ΄μ…μ…λ‹λ‹¤. μ¤λ§νΈν° μ•±κ³Ό λΈ”λ£¨ν¬μ¤ ν†µμ‹ μ„ ν†µν•΄ DC λ¨ν„°λ΅ κµ¬λ™λλ” RCμΉ΄λ¥Ό μ μ–΄ν•©λ‹λ‹¤.

**λ” μƒμ„Έν• κµ¬ν„ κ³Όμ •μ€ [RC_Bluetooth_README.md](./RC_Bluetooth/RC_Bluetooth_README.md) νμΌμ—μ„ ν™•μΈν•μ‹¤ μ μμµλ‹λ‹¤.**

#### μ‹μ¤ν… μ•„ν‚¤ν…μ²
`μ¤λ§νΈν° μ•±` β†’ `λΈ”λ£¨ν¬μ¤ λ¨λ“ (HC-06)` β†’ `STM32 (UART)` β†’ `STM32 (GPIO/TIMER)` β†’ `λ¨ν„° λ“λΌμ΄λ²„ (L298N)` β†’ `DC λ¨ν„°`

#### μ£Όμ” κΈ°λ¥ λ° κµ¬ν„
*   **λΈ”λ£¨ν¬μ¤ ν†µμ‹  (UART):**
    *   `USART2`λ¥Ό μ‚¬μ©ν•μ—¬ λΈ”λ£¨ν¬μ¤ λ¨λ“(HC-06)κ³Ό μ—°κ²°ν•©λ‹λ‹¤.
    *   μ¤λ§νΈν° μ•±μΌλ΅λ¶€ν„° 'F'(μ „μ§„), 'B'(ν›„μ§„), 'L'(μΆνμ „), 'R'(μ°νμ „), 'S'(μ •μ§€) λ“±μ μ μ–΄ λ¬Έμλ¥Ό μμ‹ ν•©λ‹λ‹¤.
    *   `HAL_UART_Receive_IT`λ¥Ό μ‚¬μ©ν•μ—¬ λ°μ΄ν„° μμ‹  μ‹ μΈν„°λ½νΈ λ°©μ‹μΌλ΅ μ¦‰κ°μ μΈ μ μ–΄ λ…λ Ήμ„ μ²λ¦¬ν•©λ‹λ‹¤.

*   **λ¨ν„° μ†λ„ μ μ–΄ (TIMER - PWM):**
    *   `TIM2`μ™€ `TIM3`λ¥Ό PWM μƒμ„± λ¨λ“λ΅ μ„¤μ •ν•©λ‹λ‹¤.
    *   λ¨ν„° λ“λΌμ΄λ²„μ Enable(ENA, ENB) ν•€μ— PWM μ‹ νΈλ¥Ό μΈκ°€ν•μ—¬ DC λ¨ν„°μ μ†λ„λ¥Ό μ μ–΄ν•©λ‹λ‹¤.

*   **λ¨ν„° λ°©ν–¥ μ μ–΄ (GPIO):**
    *   λ¨ν„° λ“λΌμ΄λ²„(L298N)μ λ°©ν–¥ μ μ–΄ ν•€(IN1, IN2, IN3, IN4)μ— μ—°κ²°λ GPIO ν•€λ“¤μ High/Low μƒνƒλ¥Ό μ΅°ν•©ν•μ—¬ λ¨ν„°μ μ •νμ „/μ—­νμ „μ„ μ μ–΄ν•©λ‹λ‹¤.

---

## π“ κΈ°λ³Έ μμ  (Basic Examples)

μ•„λλ” μµμΆ… ν”„λ΅μ νΈλ¥Ό λ§λ“¤κΈ° μ„ν•΄ ν•™μµν• κ° μ£Όλ³€μ¥μΉλ³„ κΈ°λ³Έ κΈ°λ¥ κµ¬ν„ μμ μ…λ‹λ‹¤.

| ν”„λ΅μ νΈ (Project) | μ£Όμ” ν•™μµ λ‚΄μ© (Key Learning Points) | μ†μ¤ μ½”λ“ κΈ°λ° μƒμ„Έ μ„¤λ… |
| :--- | :--- | :--- |
| **π’΅ GPIO** | `HAL_GPIO_WritePin`, `HAL_GPIO_ReadPin`, `HAL_Delay` | `LD2 (PA5)` ν•€μ— μ—°κ²°λ LEDλ¥Ό `while` λ£¨ν”„μ™€ `HAL_Delay(1000)`μ„ μ΄μ©ν•΄ 1μ΄ κ°„κ²©μΌλ΅ μ λ©Έμ‹ν‚µλ‹λ‹¤. |
| **SERIAL UART** | `printf` λ¦¬λ‹¤μ΄λ ‰μ…, `HAL_UART_Receive_IT` | `USART2`λ¥Ό μ„¤μ •ν•κ³  `_write` ν•¨μλ¥Ό μ¬μ •μν•μ—¬ `printf` μ¶λ ¥μ„ PC μ‹λ¦¬μ–Ό ν„°λ―Έλ„λ΅ μ „μ†΅ν•©λ‹λ‹¤. λν•, μμ‹  μΈν„°λ½νΈλ¥Ό μ΄μ©ν•΄ PCλ΅λ¶€ν„° λ°›μ€ λ°μ΄ν„°λ¥Ό κ·Έλ€λ΅ λ‹¤μ‹ λ³΄λ‚΄λ” μ—μ½”(Echo) κΈ°λ¥μ„ κµ¬ν„ν•©λ‹λ‹¤. |
| **β΅ EXTI** | `HAL_GPIO_EXTI_Callback`, μΈν„°λ½νΈ μ²λ¦¬ | `B1 (PC13)` μ‚¬μ©μ λ²„νΌμ— μ™Έλ¶€ μΈν„°λ½νΈ(ν•κ°• μ—£μ§€)λ¥Ό μ„¤μ •ν•©λ‹λ‹¤. λ²„νΌμ„ λ„λ¥Ό λ•λ§λ‹¤ μΈν„°λ½νΈ μ½λ°± ν•¨μκ°€ νΈμ¶λμ–΄ `LD2` LEDμ μƒνƒλ¥Ό λ°μ „(`TogglePin`)μ‹ν‚µλ‹λ‹¤. |
| **β° TIMER** | `HAL_TIM_Base_Start_IT`, `HAL_TIM_PeriodElapsedCallback` | `TIM2`λ¥Ό 1ms μ£ΌκΈ° μ—…λ°μ΄νΈ μΈν„°λ½νΈ λ¨λ“λ΅ μ„¤μ •ν•©λ‹λ‹¤. μ½λ°± ν•¨μ λ‚΄μ—μ„ μΉ΄μ΄ν„°λ¥Ό 1000κΉμ§€ μ„Έμ–΄, μ •ν™•ν 1μ΄λ§λ‹¤ `LD2` LEDλ¥Ό μ λ©Έμ‹ν‚µλ‹λ‹¤. |
| **π“ ADC** | `HAL_ADC_Start`, `HAL_ADC_GetValue` | `ADC1`μ `IN0 (PA0)` μ±„λ„μ„ μ‚¬μ©ν•μ—¬ μ•„λ‚ λ΅κ·Έ κ°’μ„ μ½μµλ‹λ‹¤. `while` λ£¨ν”„ λ‚΄μ—μ„ μ£ΌκΈ°μ μΌλ΅ ADC λ³€ν™μ„ μν–‰ν•κ³ , 12λΉ„νΈ κ²°κ³Όκ°’μ„ `printf`λ¥Ό ν†µν•΄ UART ν„°λ―Έλ„λ΅ μ¶λ ¥ν•©λ‹λ‹¤. |
| **π§² NVIC** | `HAL_NVIC_SetPriority`, μΈν„°λ½νΈ μ°μ„ μμ„ | `TIM2` μΈν„°λ½νΈμ™€ `EXTI` λ²„νΌ μΈν„°λ½νΈμ μ°μ„ μμ„λ¥Ό λ‹¤λ¥΄κ² μ„¤μ •ν•©λ‹λ‹¤. μ°μ„ μμ„κ°€ λ†’μ€ μΈν„°λ½νΈκ°€ λ‚®μ€ μ°μ„ μμ„μ μΈν„°λ½νΈ μ²λ¦¬ μ¤‘μ— λ°μƒν–μ„ λ•, λ¨Όμ € μ²λ¦¬λλ”(Preemption) ν„μƒμ„ ν™•μΈν•©λ‹λ‹¤. |

---

## π“ ν•„μ” μ‚¬ν•­ (Hardware & Software)

*   **κ³µν†µ**
    *   STM32F103 κΈ°λ° κ°λ° λ³΄λ“ (NUCLEO-F103RB)
    *   ST-LINK λ””λ²„κ±°
    *   USB to Serial λ³€ν™κΈ°
*   **RCμΉ΄ ν”„λ΅μ νΈμ© μ¶”κ°€ λ¶€ν’**
    *   λΈ”λ£¨ν¬μ¤ λ¨λ“ (HC-06 λ“±)
    *   λ¨ν„° λ“λΌμ΄λ²„ (L298N λ“±)
    *   DC λ¨ν„° 2κ° μ΄μƒ
    *   RCμΉ΄ μ„€μ‹ λ° λ°”ν€΄
    *   λ¨ν„° λ° MCU κµ¬λ™μ© μ™Έλ¶€ μ „μ› (λ°°ν„°λ¦¬ λ“±)
*   **μ†ν”„νΈμ›¨μ–΄**
    *   STM32CubeIDE (v1.9.0 μ΄μƒ κ¶μ¥)
    *   PC μ‹λ¦¬μ–Ό ν„°λ―Έλ„ ν”„λ΅κ·Έλ¨ (Tera Term, PuTTY λ“±)
    *   μ¤λ§νΈν° λΈ”λ£¨ν¬μ¤ μ‹λ¦¬μ–Ό ν†µμ‹  μ•±

---

## π€ μ‚¬μ© λ°©λ²• (How to Use)

1.  μ΄ λ ν¬μ§€ν† λ¦¬λ¥Ό λ΅μ»¬ μ»΄ν“¨ν„°μ— ν΄λ΅ (Clone)ν•©λ‹λ‹¤.
2.  STM32CubeIDEμ—μ„ `File` > `Import...` > `General` > `Existing Projects into Workspace`λ¥Ό μ„ νƒν•©λ‹λ‹¤.
3.  `Select root directory:`μ—μ„ μ΄ λ ν¬μ§€ν† λ¦¬μ μµμƒμ„ ν΄λ”λ¥Ό μ„ νƒν•λ©΄ λ¨λ“  ν”„λ΅μ νΈκ°€ λ©λ΅μ— λ‚νƒ€λ‚©λ‹λ‹¤.
4.  μ›ν•λ” ν”„λ΅μ νΈλ¥Ό μ²΄ν¬ν•κ³  `Finish`λ¥Ό λλ¬ μ›ν¬μ¤νμ΄μ¤λ΅ λ¶λ¬μµλ‹λ‹¤.

---

## βοΈ μ‘μ„±μ (Author)

*   **hjjk2688**
````
